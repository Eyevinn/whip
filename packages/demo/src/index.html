<!DOCTYPE html>
<html>
  <head>
    <title>WHIP ingest client</title>
    <script type="module" src="./index.ts"></script>
    <style type="text/css">
      #ingest-preview-wrapper {
        display: flex;
        flex-direction: column;
      }
      #ingest-preview {
        display: flex;
        gap: 1rem;
      }
      .video-wrapper {
        position: relative;
        height: 0;
        width: 100%;
        padding-bottom: 56.25%;
      }
      .video-wrapper video {
        position: absolute;
        background: black;
        top: 0;
        left: 0;
        width:  100%;
        height: 100%;
      }
      .video-wrapper h2 {
        position: relative;
        border: none;
        color:  yellow;
        padding: 0.5rem;
      }
      #channel-window {
        display: grid;
      }
      
      #channel-window.hidden {
        display: none; 
      }
      #preview-window.hidden {
        display: none;
      }

    </style>
    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
  </head>
  <body>
    <section>
      <!-- https://broadcaster-whip.prod.eyevinn.technology/api/v1/whip/broadcaster -->
      <label for="whip-endpoint">WHIP Endpoint</label>
      <input id="whip-endpoint" type="text" size="50" value=""></input>
      <button id="start-session">Start session</button>
    </section>
    <section id="ingest-preview-wrapper">
      <section id="ingest-preview">
        <div id="ingest-window" class="video-wrapper">
          <video id="ingest" autoplay controls muted></video>
          <h2>Ingest</h2>
        </div>

        <div id="preview-window" class="video-wrapper hidden">
          <video id="preview" autoplay controls muted></video>
          <h2>Preview</h2>
        </div>
      </section>
    </section>
    <section id="channel-window" class="hidden">
      <h2>Channels</h2>
    </section>
  </body>
